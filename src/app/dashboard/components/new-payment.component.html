<div class="ui segment raised" style="margin-top: 20px;">
  <div class="ui medium header">
    New Payment
  </div>
  <form #newPayForm="ngForm" *ngIf="showForm" (ngSubmit)="doPayment(newPayForm)" class="ui form">
    <div class="field">
      <label for="from">From:</label>{{transaction | console}}
      <input type="text" id="from" name="from"
             value="{{accInfo?.accountNr}} [{{transaction?.total | number:'1.2-2' | mycurrency}}]" readonly>
    </div>
    <div class="field">
      <label for="to">To:</label>
      <input pattern="[\d]*" type="text" id="to" name="to" [(ngModel)]="transaction.target"
             minlength="7" maxlength="7" #to="ngModel" required [isAccount]="selectedAccInfo"
             placeholder="Target Account Number">
      <div *ngIf="formErrors.to" class="ui red message">{{formErrors.to}}</div>
      <div *ngIf="selectedAccInfo.account" class="ui blue message">
        Valid Account {{selectedAccInfo.account.accountNr}} of {{selectedAccInfo.account.owner.firstname}}
        {{selectedAccInfo.account.owner.lastname}}
      </div>
      <div *ngIf="toForm?.errors?.isAccount" class="ui red message">Given Number is not an existing account Number.
      </div>
    </div>
    <div class="field">
      <label for="from">Amount[CHF]:</label>
      <!--<input pattern="[\d]+([.,][\d]+)?" type="text" id="amount" name="amount" [(ngModel)]="transaction.amount"-->
      <input pattern="(0*[1-9][0-9]*(\.[0-9]+)?|0+\.((0[5-9][0-9]*)|([1-9][0-9]*)))" type="text" id="amount"
             name="amount" [(ngModel)]="transaction.amount"
             minlength="1" #amount="ngModel" required
             placeholder="Target Account Number">
      <div *ngIf="formErrors.amount" class="ui red message">{{formErrors.amount}}</div>
    </div>
    <button class="ui primary button">Pay</button>

  </form>
  <div *ngIf="!showForm && !hasError">
    <span>Transaction to succeeded!</span>
    <span>New Balance is </span>
  </div>
  <div *ngIf="hasError">
    <span>Transaction did not succeed!</span>
  </div>
</div>
